!function(i){"use strict";i.fn.original_plugin=function(n){i.extend({},i.fn.original_plugin.defaults,n)},i.fn.original_plugin.defaults={responsive_size_mobile:600,background:"yellow"},i.fn.original_plugin.is_touch_device=function(){return"ontouchstart"in window||navigator.maxTouchPoints},i.fn.original_plugin.set_grid_sizes=function(){var n=i(".masonry-items"),t=0,e=(i.fn.original_plugin.viewport_width()-t,!1),o=i(".masonry-items").height(),a=1;n.find(".masonry-item").each(function(){i(this).data("proportion")&&(a=i(this).data("proportion"));var n=i(this).find(".item-bg-image"),t=0;t=a>=1.01&&"vertical"===i(this).data("position")?o/a:a>=1.01&&"horizontal"===i(this).data("position")?o*a:o/a;var r=o;n.length&&(n.each(function(){i(this).data("gallery-proportion")>0&&(a=i(this).data("gallery-proportion"));var n=i.fn.original_plugin.get_image_name_for_title(t,r,a);i(this).css("background-image","url("+i(this).data("image-"+n)+")"),i(this).addClass(n),i.fn.original_plugin.viewport_width()<1024&&(t=i.fn.original_plugin.viewport_width())}),e+=t),i(this).animate({width:t,height:r},200)}),i(".masonry-items").width(Math.ceil(e))},i.fn.original_plugin.viewport_width=function(){var n=i(".all-content").width();return n},i.fn.original_plugin.viewport_height=function(){var n=i(".all-content").height();return n},i.fn.original_plugin.set_step_offsets=function(n){var t,e=[];n.find(".slide").each(function(){e.push(Math.ceil(i(this).position().left))}),t=n.width()-(i.fn.original_plugin.viewport_width()+n.find(".slide:last-child").position().left),t>0&&(t=n.width()-i.fn.original_plugin.viewport_width(),e.push(t)),e=_.uniq(e).sort(function(i,n){return i-n}),n.find(".slide").length<e.length&&e.pop(),n.data("step-offsets",e.join("|"))},i.fn.original_plugin.set_content_height=function(){i(".content-middle, .left-content").height(i.fn.original_plugin.viewport_height())},i.fn.original_plugin.get_image_name_for_title=function(n,t,e){var o="moon-max-size",a=Math.max(n,t),r=Math.round(n/t*1e4)/1e4;return o=r-e<.02&&r-e>-.02?i.fn.original_plugin.get_image_name_by_size(a):e>r?e>=1?i.fn.original_plugin.get_image_name_by_size(t*e):i.fn.original_plugin.get_image_name_by_size(t):e>=1?i.fn.original_plugin.get_image_name_by_size(a):i.fn.original_plugin.get_image_name_by_size(n/e)},i.fn.original_plugin.get_image_name_by_size=function(i){var n="moon-max-size";return i>0&&i<=300?n="moon-fourth-size":i>300&&i<=600?n="moon-third-size":i>600&&i<=900?n="moon-half-size":i>900&&i<=1200?n="moon-two-third-size":i>1200&&i<=1600&&(n="moon-big-size"),n},i.fn.original_plugin.closest_number_index_in_array=function(i,n){for(var t=n[0],e=0,o=Math.abs(i-t),a=0;a<n.length;a++){var r=Math.abs(i-n[a]);r<o&&(o=r,t=n[a],e=a)}return e}}(jQuery);